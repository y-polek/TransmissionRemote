<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android">
    <data>

        <import type="android.view.View" />
        <import type="net.yupol.transmissionremote.app.torrentdetails.InfoPageBindingUtils" />
        <import type="net.yupol.transmissionremote.app.utils.TextUtils" />
        <variable
            name="torrent"
            type="net.yupol.transmissionremote.app.model.json.Torrent" />
        <variable
            name="torrentInfo"
            type="net.yupol.transmissionremote.app.model.json.TorrentInfo" />
    </data>

    <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <ScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent">
            <TableLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:padding="@dimen/default_padding_big"
                android:stretchColumns="1"
                android:shrinkColumns="1"
                android:visibility="@{torrentInfo != null ? View.VISIBLE : View.GONE}">
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    style="@style/InfoPageTitleStyle"
                    android:text="Torrent Information"/>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Total Size:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{InfoPageBindingUtils.totalSize(torrent, torrentInfo)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Location:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{torrentInfo.downloadDir}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Privacy:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{torrentInfo.private ? @string/privacy_private_torrent : @string/privacy_public_torrent}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin"
                    android:visibility="@{(torrentInfo.creator == null || torrentInfo.creator.isEmpty()) ? View.GONE : View.VISIBLE}">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Creator:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{torrentInfo.creator}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin"
                    android:visibility="@{torrentInfo.dateCreated > 0 ? View.VISIBLE : View.GONE}">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Created On:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{TextUtils.displayableDate(torrentInfo.dateCreated)}" />
                </TableRow>
                <TableRow
                    android:visibility="@{(torrentInfo.comment == null || torrentInfo.comment.isEmpty()) ? View.GONE : View.VISIBLE}"
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Comment:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:autoLink="web"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{torrentInfo.comment}" />
                </TableRow>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/default_layout_margin"
                    style="@style/InfoPageTitleStyle"
                    android:text="Transfer"/>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Have:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{InfoPageBindingUtils.haveSize(torrentInfo)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Available:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{@string/available_text(torrentInfo.availablePercent)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Downloaded:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{InfoPageBindingUtils.downloadedSize(torrentInfo)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Uploaded:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{InfoPageBindingUtils.uploadedSize(torrentInfo)}" />
                </TableRow>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/default_layout_margin"
                    style="@style/InfoPageTitleStyle"
                    android:text="Dates"/>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Added:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{TextUtils.displayableDate(torrentInfo.addedDate)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin"
                    android:visibility="@{torrentInfo.doneDate > 0 ? View.VISIBLE : View.GONE}">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Completed:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{TextUtils.displayableDate(torrentInfo.doneDate)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin"
                    android:visibility="@{torrentInfo.activityDate > 0 ? View.VISIBLE : View.GONE}">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Last Activity:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{TextUtils.displayableDate(torrentInfo.activityDate)}" />
                </TableRow>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/default_layout_margin"
                    style="@style/InfoPageTitleStyle"
                    android:text="Time Elapsed"/>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Downloading:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{TextUtils.displayableTime(torrentInfo.secondsDownloading)}" />
                </TableRow>
                <TableRow
                    android:layout_marginTop="@dimen/default_text_margin">
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageFirstColumnStyle"
                        android:text="Seeding:"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        style="@style/InfoPageSecondColumnStyle"
                        android:text="@{TextUtils.displayableTime(torrentInfo.secondsSeeding)}" />
                </TableRow>
            </TableLayout>
        </ScrollView>

        <ProgressBar
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:visibility="@{torrentInfo == null ? View.VISIBLE : View.GONE}"/>

    </FrameLayout>
</layout>
